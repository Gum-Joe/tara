{"version":3,"sources":["../../src/components/dir-picker.jsx"],"names":["DirPicker","props","state","changeTo","dir","urlPicked","handleClick","bind","document","keypress","event","which","offClickListener","target","parentElement","className","includes","body","removeEventListener","addEventListener","setDir","data","setState","value","propTypes","string","isRequired","func"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEqBA,S;;;AACnB,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sHACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,gBAAUF,MAAMG,GADL;AAEXC,iBAAW;AAFA,KAAb;AAIA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,OAAnB;AANiB;AAOlB;;;;wCACmB;AAAA;;AAClB;AACA,4BAAOC,QAAP,EAAiBC,QAAjB,CAA0B,UAACC,KAAD,EAAW;AACnC,YAAIA,MAAMC,KAAN,KAAgB,EAApB,EAAwB;AACtB;AACA,iBAAKL,WAAL;AACD;AACF,OALD;;AAOA;AACA,UAAMM,mBAAmB,SAAnBA,gBAAmB,CAACF,KAAD,EAAW;AAClC,YAAI,CAACA,MAAMG,MAAN,CAAaC,aAAb,CAA2BC,SAA3B,CAAqCC,QAArC,CAA8C,oBAA9C,CAAD,IAAwE,CAACN,MAAMG,MAAN,CAAaC,aAAb,CAA2BC,SAA3B,CAAqCC,QAArC,CAA8C,oBAA9C,CAA7E,EAAkJ;AAChJ;AACAR,mBAASS,IAAT,CAAcC,mBAAd,CAAkC,OAAlC,EAA2CN,gBAA3C,EAA6D,IAA7D;AACA,iBAAKN,WAAL;AACD;AACF,OAND;AAOAE,eAASS,IAAT,CAAcE,gBAAd,CAA+B,OAA/B,EAAwCP,gBAAxC,EAA0D,IAA1D;AACD;AACD;;;;;;;kCAIc;AACZ,UAAI,KAAKV,KAAL,CAAWC,QAAf,EAAyB;AACvB;AACA;AACA;AACA;AACA,aAAKF,KAAL,CAAWmB,MAAX,CAAkB,KAAKlB,KAAL,CAAWC,QAA7B;AACD;AACF;;;6BACQ;AAAA;;AACP,aACE;AACE,gBACE;AACE,qBAAU,oBADZ;AAEE,mBAAQ,IAFV;AAGE,gBAAK,aAHP;AAIE,yBAAc,OAJhB;AAKE,mBAAS,KAAKG;AALhB,UAFJ;AAUE,mBAAU,oBAVZ;AAWE,qBAAa,KAAKL,KAAL,CAAWG,GAX1B;AAYE,sBAAc,KAAKH,KAAL,CAAWG,GAZ3B;AAaE,kBAAU,kBAACM,KAAD,EAAQW,IAAR;AAAA,iBAAiB,OAAKC,QAAL,cAAmB,OAAKpB,KAAxB,IAA+BC,UAAUkB,KAAKE,KAA9C,IAAjB;AAAA;AAbZ,QADF;AAiBD;;;;;;kBA3DkBvB,S;;;AA8DrBA,UAAUwB,SAAV,GAAsB;AACpBpB,OAAK,oBAAUqB,MAAV,CAAiBC,UADF;AAEpBN,UAAQ,oBAAUO,IAAV,CAAeD;AAFH,CAAtB","file":"dir-picker.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport jquery from \"jquery\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Input, Button } from \"semantic-ui-react\";\r\n\r\nexport default class DirPicker extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      changeTo: props.dir,\r\n      urlPicked: false\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    // Handle enter\r\n    jquery(document).keypress((event) => {\r\n      if (event.which === 13) {\r\n        // enter pressed\r\n        this.handleClick();\r\n      }\r\n    });\r\n\r\n    // Handle off click\r\n    const offClickListener = (event) => {\r\n      if (!event.target.parentElement.className.includes(\"address-bar-picker\") && !event.target.parentElement.className.includes(\"address-bar-button\")) {\r\n        // Off clicked\r\n        document.body.removeEventListener(\"click\", offClickListener, true);\r\n        this.handleClick();\r\n      }\r\n    };\r\n    document.body.addEventListener(\"click\", offClickListener, true);\r\n  }\r\n  /**\r\n   * Handle clicking of button/enter\r\n   * @returns {undefined} Nothing\r\n   */\r\n  handleClick() {\r\n    if (this.state.changeTo) {\r\n      //this.setState({\r\n      //  ...this.state,\r\n      //  urlPicked: true\r\n      //});\r\n      this.props.setDir(this.state.changeTo);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Input\r\n        action={\r\n          <Button\r\n            className=\"address-bar-button\"\r\n            content=\"Go\"\r\n            icon=\"arrow right\"\r\n            labelPosition=\"right\"\r\n            onClick={this.handleClick}\r\n          />\r\n        }\r\n        className=\"address-bar-picker\"\r\n        placeholder={this.props.dir}\r\n        defaultValue={this.props.dir}\r\n        onChange={(event, data) => this.setState({ ...this.state, changeTo: data.value })}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nDirPicker.propTypes = {\r\n  dir: PropTypes.string.isRequired,\r\n  setDir: PropTypes.func.isRequired\r\n};\r\n"]}